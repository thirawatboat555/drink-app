<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</title>

<style>
body{
margin:0;
font-family:sans-serif;
background:#f3f3f3;
padding-top:70px;
}

header{
position:fixed;
top:0;
width:100%;
background:linear-gradient(135deg,#2ecc71,#27ae60);
color:white;
text-align:center;
font-size:22px;
padding:18px;
font-weight:bold;
z-index:1000;
box-shadow:0 3px 6px rgba(0,0,0,.2);
}

.card{
background:white;
margin:12px;
border-radius:16px;
overflow:hidden;
box-shadow:0 3px 8px rgba(0,0,0,.1);
}

.menu{
display:flex;
align-items:center;
padding:12px;
cursor:pointer;
}

.menu img{
width:75px;
height:75px;
border-radius:12px;
object-fit:cover;
}

.menu div{
margin-left:12px;
font-size:16px;
}

.panel{
display:none;
padding:12px;
border-top:1px solid #ddd;
}

.block{
display:inline-block;
padding:8px 14px;
margin:5px;
border:1px solid #aaa;
border-radius:20px;
cursor:pointer;
font-size:14px;
}

.block.active{
background:#2ecc71;
color:white;
border-color:#2ecc71;
}

.block.disabled{
opacity:.4;
pointer-events:none;
}

button{
width:100%;
padding:14px;
background:#3498db;
border:none;
color:white;
border-radius:14px;
font-size:16px;
margin-top:10px;
}

.cart{
position:fixed;
bottom:0;
width:100%;
background:black;
color:white;
text-align:center;
padding:14px;
font-size:18px;
}
</style>
</head>

<body>

<header>üåæ ‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏¥‡∏°‡∏ó‡∏∏‡πà‡∏á</header>

<div id="list"></div>

<div class="cart" onclick="showCart()">üß∫ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id="count">0</span>)</div>

<script>
const menus = [
["‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢",25],["‡∏ä‡∏≤‡∏î‡∏≥‡πÄ‡∏¢‡πá‡∏ô",25],["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á",25],
["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏¢‡∏Å‡∏•‡πâ‡∏≠",25],["‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏ô‡∏™",25],["‡∏Å‡∏≤‡πÅ‡∏ü‡∏î‡∏≥",25],["‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å",25],
["‡πÅ‡∏Ñ‡∏ô‡∏ï‡∏≤‡∏•‡∏π‡∏õ",25],["‡πÇ‡∏≠‡∏ß‡∏±‡∏•‡∏ï‡∏¥‡∏ô",25],["‡∏ô‡∏°‡∏™‡∏î",25],["‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ô‡∏°‡∏™‡∏î‡∏õ‡∏±‡πà‡∏ô",30],
["‡πÇ‡∏Å‡πÇ‡∏Å‡πâ",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢",25],["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢‡πÇ‡∏ã‡∏î‡∏≤",25],
["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],
["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß",25],["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏ô‡∏°‡∏™‡∏î",25],
["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà",25],["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà‡πÇ‡∏ã‡∏î‡∏≤",25]
];

const sweets=[
"0% ‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô","25% ‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢","50% ‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á",
"75% ‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ß‡∏≤‡∏ô","100% ‡∏´‡∏ß‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥","125% ‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å"
];

const types=["‡πÄ‡∏¢‡πá‡∏ô","‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥","‡∏õ‡∏±‡πà‡∏ô +5"];

let cart=[];
let opened=null;

const box=document.getElementById("list");

menus.forEach(m=>{
box.innerHTML+=`
<div class="card">
<div class="menu" onclick="toggle(this,'${m[0]}')">
<img src="https://picsum.photos/200?${m[0]}">
<div><b>${m[0]}</b><br>${m[1]} ‡∏ö‡∏≤‡∏ó</div>
</div>

<div class="panel">
<b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô</b><br>
${sweets.map(x=>`<span class="block sweet" onclick="pick(this)">${x}</span>`).join("")}

<br><br><b>‡∏ä‡∏ô‡∏¥‡∏î</b><br>
${types.map(x=>`<span class="block type">${x}</span>`).join("")}

<button onclick="add('${m[0]}',${m[1]},this)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
</div>
</div>`;
});

function toggle(menu,name){
if(opened && opened!==menu.nextElementSibling){
reset(opened);
opened.style.display="none";
}

const panel=menu.nextElementSibling;

if(panel.style.display==="block"){
reset(panel);
panel.style.display="none";
opened=null;
return;
}

panel.style.display="block";
opened=panel;

panel.scrollIntoView({behavior:"smooth",block:"start"});

if(name.includes("‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ")){
panel.querySelectorAll(".type").forEach(t=>{
if(t.innerText!=="‡πÄ‡∏¢‡πá‡∏ô"){
t.classList.add("disabled");
}
});
}
}

function pick(el){
if(el.classList.contains("disabled")) return;

const group=el.classList.contains("sweet")?"sweet":"type";
const parent=el.parentElement;

if(el.classList.contains("active")){
el.classList.remove("active");
return;
}

parent.querySelectorAll("."+group).forEach(x=>x.classList.remove("active"));
el.classList.add("active");
}

function reset(panel){
panel.querySelectorAll(".block").forEach(b=>{
b.classList.remove("active","disabled");
});
}

function add(name,price,btn){
const p=btn.parentElement;
const s=p.querySelector(".sweet.active");
const t=p.querySelector(".type.active");

if(!s||!t){
alert("‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏Å‡πà‡∏≠‡∏ô");
return;
}

let extra=t.innerText.includes("‡∏õ‡∏±‡πà‡∏ô")?5:0;

cart.push({
name,
sweet:s.innerText,
type:t.innerText,
price:price+extra
});

document.getElementById("count").innerText=cart.length;

reset(p);
p.style.display="none";
opened=null;
}

function showCart(){
let sum=0,msg="";
cart.forEach(i=>{
sum+=i.price;
msg+=`${i.name} | ${i.sweet} | ${i.type} | ${i.price}‡∏ø\n`;
});
alert(msg+"\n‡∏£‡∏ß‡∏° "+sum+" ‡∏ö‡∏≤‡∏ó");
}
</script>

</body>
</html>


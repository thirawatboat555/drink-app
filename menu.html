<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</title>

<style>
body{
 font-family:sans-serif;
 background:#f2f2f2;
 margin:0;
 padding-bottom:90px;
}

.card{
 background:#fff;
 margin:10px;
 border-radius:16px;
 overflow:hidden;
 box-shadow:0 2px 6px rgba(0,0,0,.08)
}

.menu{
 display:flex;
 padding:12px;
 align-items:center;
 cursor:pointer
}

.menu img{
 width:75px;
 height:75px;
 border-radius:14px;
 object-fit:cover
}

.menu div{
 flex:1;
 margin-left:12px
}

.panel{
 display:none;
 padding:12px;
 border-top:1px solid #ddd
}

.block{
 border:1px solid #aaa;
 padding:8px 14px;
 border-radius:25px;
 margin:5px;
 display:inline-block;
 cursor:pointer;
 font-size:14px;
 transition:.15s;
 background:white;
}

.block.active{
 background:#4CAF50;
 color:white;
 border-color:#4CAF50;
}

.disabled{
 opacity:.4;
 pointer-events:none;
}

button{
 width:100%;
 padding:14px;
 border:none;
 background:#2196F3;
 color:white;
 border-radius:14px;
 margin-top:12px;
 font-size:16px
}

.cart{
 position:fixed;
 bottom:0;
 width:100%;
 background:#000;
 color:#fff;
 text-align:center;
 padding:14px;
 font-size:18px
}
</style>
</head>

<body>

<div id="list"></div>

<div class="cart" onclick="showCart()">
üß∫ ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (<span id="count">0</span>)
</div>

<script>
const menus = [
 ["‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢",25],["‡∏ä‡∏≤‡∏î‡∏≥‡πÄ‡∏¢‡πá‡∏ô",25],["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á",25],
 ["‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏¢‡∏Å‡∏•‡πâ‡∏≠",25],["‡∏Å‡∏≤‡πÅ‡∏ü‡πÄ‡∏ô‡∏™",25],["‡∏Å‡∏≤‡πÅ‡∏ü‡∏î‡∏≥",25],["‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å",25],
 ["‡πÅ‡∏Ñ‡∏ô‡∏ï‡∏≤‡∏•‡∏π‡∏õ",25],["‡πÇ‡∏≠‡∏ß‡∏±‡∏•‡∏ï‡∏¥‡∏ô",25],["‡∏ô‡∏°‡∏™‡∏î",25],
 ["‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ô‡∏°‡∏™‡∏î‡∏õ‡∏±‡πà‡∏ô",30],
 ["‡πÇ‡∏Å‡πÇ‡∏Å‡πâ",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÅ‡∏î‡∏á‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
 ["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],["‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß",25],
 ["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢",25],["‡∏ö‡∏•‡∏π‡∏Æ‡∏≤‡∏ß‡∏≤‡∏¢‡πÇ‡∏ã‡∏î‡∏≤",25],
 ["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß",25],["‡πÅ‡∏≠‡∏õ‡πÄ‡∏õ‡∏¥‡πâ‡∏•‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÇ‡∏ã‡∏î‡∏≤",25],
 ["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß",25],["‡∏°‡∏∞‡∏û‡∏£‡πâ‡∏≤‡∏ß‡∏ô‡∏°‡∏™‡∏î",25],
 ["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà",25],["‡∏™‡∏ï‡∏≠‡πÄ‡∏ö‡∏≠‡∏£‡∏µ‡πà‡πÇ‡∏ã‡∏î‡∏≤",25]
];

const sweetLevels=[
 "0% ‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô","25% ‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢","50% ‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á",
 "75% ‡∏´‡∏ß‡∏≤‡∏ô‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ß‡∏≤‡∏ô","100% ‡∏´‡∏ß‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥","125% ‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å"
];

let cart=[];
const box=document.getElementById("list");

menus.forEach(m=>{
 let isOreo=m[0]=="‡πÇ‡∏≠‡∏£‡∏¥‡πÇ‡∏≠‡πâ‡∏ô‡∏°‡∏™‡∏î‡∏õ‡∏±‡πà‡∏ô";

 box.innerHTML+=`
 <div class="card">
  <div class="menu" onclick="toggle(this)">
   <img src="https://picsum.photos/200?${Math.random()}">
   <div><b>${m[0]}</b><br>${m[1]} ‡∏ö‡∏≤‡∏ó</div>
  </div>

  <div class="panel">

   <b>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô</b><br>
   ${sweetLevels.map(x=>`
    <span class="block sweet" onclick="pick(this,event)">${x}</span>
   `).join("")}

   <br><br><b>‡∏ä‡∏ô‡∏¥‡∏î</b><br>

   <span class="block type" onclick="pick(this,event)">‡πÄ‡∏¢‡πá‡∏ô</span>
   <span class="block type ${isOreo?'disabled':''}" onclick="pick(this,event)">‡πÅ‡∏¢‡∏Å‡∏ô‡πâ‡∏≥</span>
   <span class="block type ${isOreo?'disabled':''}" onclick="pick(this,event)">‡∏õ‡∏±‡πà‡∏ô +5</span>

   <button onclick="add('${m[0]}',${m[1]},this)">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
  </div>
 </div>
 `;
});

function toggle(el){
 let panel=el.nextElementSibling;
 let open=panel.style.display==="block";

 document.querySelectorAll(".panel")
 .forEach(p=>p.style.display="none");

 if(!open){
  panel.style.display="block";
  setTimeout(()=>{
   el.scrollIntoView({behavior:"smooth",block:"start"});
  },80);
 }
}

function pick(el,e){
 e.stopPropagation();
 if(el.classList.contains("disabled")) return;

 // ‡∏ï‡∏¥‡πä‡∏Å‡πÄ‡∏Ç‡πâ‡∏≤-‡∏≠‡∏≠‡∏Å‡∏≠‡∏¥‡∏™‡∏£‡∏∞ (‡πÑ‡∏°‡πà‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏≠‡∏∑‡πà‡∏ô)
 el.classList.toggle("active");
}

function add(name,price,b){
 let p=b.parentElement;
 let s=p.querySelector(".sweet.active");
 let t=p.querySelector(".type.active");

 if(!s || !t){
  alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡∏ä‡∏ô‡∏¥‡∏î‡∏Å‡πà‡∏≠‡∏ô");
  return;
 }

 let extra=t.innerText.includes("‡∏õ‡∏±‡πà‡∏ô")?5:0;

 cart.push({
  name,
  sweet:s.innerText,
  type:t.innerText,
  price:price+extra
 });

 document.getElementById("count").innerText=cart.length;
}

function showCart(){
 let sum=0,msg="";
 cart.forEach(i=>{
  sum+=i.price;
  msg+=`${i.name} | ${i.sweet} | ${i.type} | ${i.price}‡∏ø\n`;
 });
 alert(msg+"\n‡∏£‡∏ß‡∏° "+sum+" ‡∏ö‡∏≤‡∏ó");
}
</script>

</body>
</html>
